<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch ‚Üí Deutsch √úbersetzer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 1200px;
            width: 100%;
            padding: 40px;
        }

        h1 {
            text-align: center;
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #718096;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .input-methods {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .method-btn {
            padding: 12px 30px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .method-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .method-btn:hover {
            transform: translateY(-2px);
        }

        .input-area {
            display: none;
            margin-bottom: 30px;
        }

        .input-area.active {
            display: block;
        }

        .image-upload-zone {
            border: 3px dashed #cbd5e0;
            border-radius: 15px;
            padding: 60px 20px;
            text-align: center;
            background: #f7fafc;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .image-upload-zone:hover {
            border-color: #667eea;
            background: #edf2f7;
        }

        .image-upload-zone.dragover {
            border-color: #667eea;
            background: #e6f0ff;
        }

        .upload-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }

        .upload-text {
            font-size: 1.2em;
            color: #4a5568;
            margin-bottom: 10px;
        }

        .upload-hint {
            font-size: 0.95em;
            color: #a0aec0;
        }

        #fileInput {
            display: none;
        }

        .image-preview {
            display: none;
            margin-top: 20px;
            text-align: center;
        }

        .image-preview.active {
            display: block;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 400px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .image-container {
            position: relative;
            display: inline-block;
            margin-bottom: 15px;
        }

        .image-canvas {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .overlay-controls {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .overlay-btn {
            padding: 10px 20px;
            font-size: 0.95em;
            background: #4299e1;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .overlay-btn:hover {
            background: #3182ce;
        }

        .download-btn {
            background: #9f7aea;
        }

        .download-btn:hover {
            background: #805ad5;
        }

        .mode-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .toggle-btn {
            padding: 8px 16px;
            font-size: 0.9em;
            background: #e2e8f0;
            color: #4a5568;
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toggle-btn.active {
            background: #4299e1;
            color: white;
            border-color: #4299e1;
        }

        .translation-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .input-section, .output-section {
            display: flex;
            flex-direction: column;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .section-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #2d3748;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .flag {
            font-size: 1.5em;
        }

        .char-count {
            font-size: 0.9em;
            color: #a0aec0;
        }

        textarea {
            width: 100%;
            min-height: 300px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1.1em;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        #russianInput {
            background: #f7fafc;
        }

        #germanOutput {
            background: #f0f4f8;
            color: #2d3748;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 15px 40px;
            font-size: 1.1em;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .translate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .translate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .translate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .clear-btn {
            background: #e2e8f0;
            color: #4a5568;
        }

        .clear-btn:hover {
            background: #cbd5e0;
        }

        .copy-btn {
            background: #48bb78;
            color: white;
            padding: 10px 20px;
            font-size: 0.95em;
            align-self: flex-start;
            margin-top: 10px;
        }

        .copy-btn:hover {
            background: #38a169;
        }

        .loading {
            text-align: center;
            color: #667eea;
            font-size: 1.1em;
            margin: 20px 0;
            display: none;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #e2e8f0;
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error {
            background: #fed7d7;
            color: #c53030;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .error.active {
            display: block;
        }

        .success-message {
            background: #c6f6d5;
            color: #22543d;
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 10px;
            display: none;
            font-size: 0.95em;
        }

        .success-message.active {
            display: block;
        }

        .remove-image-btn {
            background: #fc8181;
            color: white;
            padding: 8px 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .remove-image-btn:hover {
            background: #f56565;
        }

        @media (max-width: 768px) {
            .translation-container {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 2em;
            }

            .container {
                padding: 20px;
            }

            .input-methods {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Russisch ‚Üí Deutsch</h1>
        <p class="subtitle">Optimiert f√ºr Russian Fishing 4 ‚Ä¢ KI-√úbersetzung mit Bildunterst√ºtzung</p>

        <div class="error" id="errorMessage"></div>

        <div class="input-methods">
            <button class="method-btn active" id="textModeBtn">
                üìù Text eingeben
            </button>
            <button class="method-btn" id="imageModeBtn">
                üì∑ Bild hochladen
            </button>
        </div>

        <!-- Text-Eingabe -->
        <div class="input-area active" id="textInputArea">
            <div class="translation-container">
                <div class="input-section">
                    <div class="section-header">
                        <div class="section-title">
                            <span class="flag">üá∑üá∫</span>
                            Russisch
                        </div>
                        <span class="char-count" id="charCount">0 Zeichen</span>
                    </div>
                    <textarea 
                        id="russianInput" 
                        placeholder="Geben Sie hier Ihren russischen Text ein..."
                        maxlength="10000"
                    ></textarea>
                </div>

                <div class="output-section">
                    <div class="section-header">
                        <div class="section-title">
                            <span class="flag">üá©üá™</span>
                            Deutsch
                        </div>
                    </div>
                    <textarea 
                        id="germanOutput" 
                        placeholder="Die √úbersetzung erscheint hier..."
                        readonly
                    ></textarea>
                    <button class="copy-btn" id="copyBtn" style="display: none;">
                        üìã Kopieren
                    </button>
                    <div class="success-message" id="successMessage">‚úì In Zwischenablage kopiert!</div>
                </div>
            </div>
        </div>

        <!-- Bild-Eingabe -->
        <div class="input-area" id="imageInputArea">
            <div class="image-upload-zone" id="uploadZone">
                <div class="upload-icon">üì∏</div>
                <div class="upload-text">Klicken oder Bild hierher ziehen</div>
                <div class="upload-hint">PNG, JPG, WEBP (max. 10MB)</div>
            </div>
            <input type="file" id="fileInput" accept="image/png,image/jpeg,image/jpg,image/webp">
            
            <div class="image-preview" id="imagePreview">
                <div class="mode-toggle">
                    <button class="toggle-btn active" id="textModeToggle">üìù Nur Text</button>
                    <button class="toggle-btn" id="overlayModeToggle">üñºÔ∏è Text auf Bild</button>
                </div>
                <div class="image-container">
                    <img id="previewImg" src="" alt="Vorschau" style="display: none;">
                    <canvas id="overlayCanvas" class="image-canvas" style="display: none;"></canvas>
                </div>
                <div class="overlay-controls" id="overlayControls" style="display: none;">
                    <button class="overlay-btn download-btn" id="downloadBtn">üíæ Bild herunterladen</button>
                    <button class="overlay-btn" id="toggleOverlayBtn">üëÅÔ∏è Overlay ein/aus</button>
                </div>
                <button class="remove-image-btn" id="removeImageBtn">üóëÔ∏è Bild entfernen</button>
            </div>

            <div class="output-section" style="margin-top: 30px;">
                <div class="section-header">
                    <div class="section-title">
                        <span class="flag">üá©üá™</span>
                        Deutsche √úbersetzung
                    </div>
                </div>
                <textarea 
                    id="germanOutputImage" 
                    placeholder="Die √úbersetzung des Bildinhalts erscheint hier..."
                    readonly
                ></textarea>
                <button class="copy-btn" id="copyBtnImage" style="display: none;">
                    üìã Kopieren
                </button>
                <div class="success-message" id="successMessageImage">‚úì In Zwischenablage kopiert!</div>
            </div>
        </div>

        <div class="loading" id="loading">
            <span class="spinner"></span>
            <span id="loadingText">√úbersetzung l√§uft...</span>
        </div>

        <div class="button-group">
            <button class="translate-btn" id="translateBtn">
                üîÑ √úbersetzen
            </button>
            <button class="clear-btn" id="clearBtn">
                üóëÔ∏è Alles l√∂schen
            </button>
        </div>
    </div>

    <script>
        // DOM-Elemente
        const textModeBtn = document.getElementById('textModeBtn');
        const imageModeBtn = document.getElementById('imageModeBtn');
        const textInputArea = document.getElementById('textInputArea');
        const imageInputArea = document.getElementById('imageInputArea');
        const uploadZone = document.getElementById('uploadZone');
        const fileInput = document.getElementById('fileInput');
        const imagePreview = document.getElementById('imagePreview');
        const previewImg = document.getElementById('previewImg');
        const overlayCanvas = document.getElementById('overlayCanvas');
        const overlayControls = document.getElementById('overlayControls');
        const downloadBtn = document.getElementById('downloadBtn');
        const toggleOverlayBtn = document.getElementById('toggleOverlayBtn');
        const textModeToggle = document.getElementById('textModeToggle');
        const overlayModeToggle = document.getElementById('overlayModeToggle');
        const removeImageBtn = document.getElementById('removeImageBtn');
        const russianInput = document.getElementById('russianInput');
        const germanOutput = document.getElementById('germanOutput');
        const germanOutputImage = document.getElementById('germanOutputImage');
        const translateBtn = document.getElementById('translateBtn');
        const clearBtn = document.getElementById('clearBtn');
        const copyBtn = document.getElementById('copyBtn');
        const copyBtnImage = document.getElementById('copyBtnImage');
        const charCount = document.getElementById('charCount');
        const loading = document.getElementById('loading');
        const loadingText = document.getElementById('loadingText');
        const errorMessage = document.getElementById('errorMessage');
        const successMessage = document.getElementById('successMessage');
        const successMessageImage = document.getElementById('successMessageImage');

        let currentMode = 'text';
        let currentImageData = null;
        let imageDisplayMode = 'text'; // 'text' oder 'overlay'
        let translatedText = '';
        let overlayVisible = true;

        // Modus-Wechsel
        textModeBtn.addEventListener('click', () => {
            currentMode = 'text';
            textModeBtn.classList.add('active');
            imageModeBtn.classList.remove('active');
            textInputArea.classList.add('active');
            imageInputArea.classList.remove('active');
        });

        imageModeBtn.addEventListener('click', () => {
            currentMode = 'image';
            imageModeBtn.classList.add('active');
            textModeBtn.classList.remove('active');
            imageInputArea.classList.add('active');
            textInputArea.classList.remove('active');
        });

        // Anzeige-Modus wechseln (Nur Text vs Text auf Bild)
        textModeToggle.addEventListener('click', () => {
            imageDisplayMode = 'text';
            textModeToggle.classList.add('active');
            overlayModeToggle.classList.remove('active');
            updateImageDisplay();
        });

        overlayModeToggle.addEventListener('click', () => {
            imageDisplayMode = 'overlay';
            overlayModeToggle.classList.add('active');
            textModeToggle.classList.remove('active');
            updateImageDisplay();
        });

        // Anzeige aktualisieren
        function updateImageDisplay() {
            if (imageDisplayMode === 'text') {
                previewImg.style.display = 'block';
                overlayCanvas.style.display = 'none';
                overlayControls.style.display = 'none';
                germanOutputImage.parentElement.style.display = 'block';
            } else {
                previewImg.style.display = 'none';
                overlayCanvas.style.display = 'block';
                overlayControls.style.display = translatedText ? 'flex' : 'none';
                germanOutputImage.parentElement.style.display = 'none';
            }
        }

        // Zeichenz√§hler
        russianInput.addEventListener('input', () => {
            const count = russianInput.value.length;
            charCount.textContent = `${count} Zeichen`;
        });

        // Drag & Drop
        uploadZone.addEventListener('click', () => fileInput.click());

        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.classList.add('dragover');
        });

        uploadZone.addEventListener('dragleave', () => {
            uploadZone.classList.remove('dragover');
        });

        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
            const file = e.dataTransfer.files[0];
            handleImageFile(file);
        });

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            handleImageFile(file);
        });

        // Bild verarbeiten
        function handleImageFile(file) {
            if (!file) return;

            if (!file.type.startsWith('image/')) {
                showError('Bitte nur Bilddateien hochladen.');
                return;
            }

            if (file.size > 10 * 1024 * 1024) {
                showError('Datei ist zu gro√ü. Maximal 10MB erlaubt.');
                return;
            }

            const reader = new FileReader();
            reader.onload = (e) => {
                currentImageData = e.target.result;
                previewImg.src = currentImageData;
                imagePreview.classList.add('active');
                germanOutputImage.value = '';
                copyBtnImage.style.display = 'none';
                translatedText = '';
                overlayVisible = true;
                updateImageDisplay();
            };
            reader.readAsDataURL(file);
        }

        // Bild entfernen
        removeImageBtn.addEventListener('click', () => {
            currentImageData = null;
            imagePreview.classList.remove('active');
            fileInput.value = '';
            germanOutputImage.value = '';
            copyBtnImage.style.display = 'none';
            translatedText = '';
            overlayVisible = true;
        });

        // Canvas-Funktionen
        function drawImageWithOverlay() {
            const img = new Image();
            img.onload = function() {
                const canvas = overlayCanvas;
                const ctx = canvas.getContext('2d');
                
                // Canvas-Gr√∂√üe anpassen
                canvas.width = img.width;
                canvas.height = img.height;
                
                // Bild zeichnen
                ctx.drawImage(img, 0, 0);
                
                // Overlay zeichnen (wenn aktiviert)
                if (overlayVisible && translatedText) {
                    drawTextOverlay(ctx, canvas.width, canvas.height);
                }
            };
            img.src = currentImageData;
        }

        function drawTextOverlay(ctx, width, height) {
            // St√§rkerer Hintergrund f√ºr bessere Lesbarkeit
            ctx.fillStyle = 'rgba(0, 0, 0, 0.85)';
            ctx.fillRect(0, 0, width, height);
            
            // Text vorbereiten
            const fontSize = Math.max(18, Math.min(28, width / 30)); // Dynamische Schriftgr√∂√üe
            ctx.font = `bold ${fontSize}px "Segoe UI", Arial, sans-serif`;
            const lines = wrapText(ctx, translatedText, width - 100);
            
            // Box-Dimensionen berechnen
            const lineHeight = fontSize * 1.5;
            const padding = 25;
            const textHeight = lines.length * lineHeight + padding * 2;
            const textWidth = Math.min(width - 60, width * 0.9);
            const textY = (height - textHeight) / 2;
            const textX = (width - textWidth) / 2;
            
            // Sch√∂ner Hintergrund mit Schatten
            ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
            ctx.shadowBlur = 15;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 5;
            
            // Hauptbox
            ctx.fillStyle = 'rgba(30, 41, 59, 0.95)'; // Dunkelblau-Grau
            roundRect(ctx, textX, textY, textWidth, textHeight, 12);
            ctx.fill();
            
            // Border
            ctx.strokeStyle = 'rgba(100, 116, 139, 0.6)';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Schatten zur√ºcksetzen
            ctx.shadowColor = 'transparent';
            ctx.shadowBlur = 0;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            
            // Titel-Bar (optional, wenn Text lang ist)
            if (lines.length > 3) {
                ctx.fillStyle = 'rgba(59, 130, 246, 0.9)'; // Blauer Akzent
                roundRect(ctx, textX, textY, textWidth, 40, 12, true, false);
                ctx.fill();
                
                ctx.fillStyle = '#ffffff';
                ctx.font = `bold ${fontSize * 0.8}px "Segoe UI", Arial, sans-serif`;
                ctx.textAlign = 'center';
                ctx.fillText('üá©üá™ √úBERSETZUNG', textX + textWidth / 2, textY + 27);
            }
            
            // Text zeichnen
            ctx.fillStyle = '#f1f5f9'; // Helles Grau-Wei√ü
            ctx.font = `bold ${fontSize}px "Segoe UI", Arial, sans-serif`;
            ctx.textAlign = 'left';
            ctx.textBaseline = 'top';
            
            const startY = lines.length > 3 ? textY + 50 : textY + padding;
            
            lines.forEach((line, i) => {
                // Leichter Schatten f√ºr Text
                ctx.shadowColor = 'rgba(0, 0, 0, 0.8)';
                ctx.shadowBlur = 4;
                ctx.shadowOffsetX = 1;
                ctx.shadowOffsetY = 1;
                
                ctx.fillText(line, textX + padding, startY + (i * lineHeight));
            });
            
            // Schatten zur√ºcksetzen
            ctx.shadowColor = 'transparent';
            ctx.shadowBlur = 0;
        }

        // Hilfsfunktion f√ºr abgerundete Rechtecke
        function roundRect(ctx, x, y, width, height, radius, topOnly = false, bottomOnly = false) {
            ctx.beginPath();
            if (topOnly) {
                ctx.moveTo(x + radius, y);
                ctx.lineTo(x + width - radius, y);
                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
                ctx.lineTo(x + width, y + height);
                ctx.lineTo(x, y + height);
                ctx.lineTo(x, y + radius);
                ctx.quadraticCurveTo(x, y, x + radius, y);
            } else if (bottomOnly) {
                ctx.moveTo(x, y);
                ctx.lineTo(x + width, y);
                ctx.lineTo(x + width, y + height - radius);
                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                ctx.lineTo(x + radius, y + height);
                ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
                ctx.lineTo(x, y);
            } else {
                ctx.moveTo(x + radius, y);
                ctx.lineTo(x + width - radius, y);
                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
                ctx.lineTo(x + width, y + height - radius);
                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                ctx.lineTo(x + radius, y + height);
                ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
                ctx.lineTo(x, y + radius);
                ctx.quadraticCurveTo(x, y, x + radius, y);
            }
            ctx.closePath();
        }

        function wrapText(ctx, text, maxWidth) {
            const words = text.split(' ');
            const lines = [];
            let currentLine = '';
            
            const fontSize = Math.max(18, Math.min(28, ctx.canvas.width / 30));
            ctx.font = `bold ${fontSize}px "Segoe UI", Arial, sans-serif`;
            
            for (let i = 0; i < words.length; i++) {
                const testLine = currentLine + words[i] + ' ';
                const metrics = ctx.measureText(testLine);
                
                if (metrics.width > maxWidth && i > 0) {
                    lines.push(currentLine.trim());
                    currentLine = words[i] + ' ';
                } else {
                    currentLine = testLine;
                }
            }
            lines.push(currentLine.trim());
            
            return lines;
        }

        // Overlay ein/ausschalten
        toggleOverlayBtn.addEventListener('click', () => {
            overlayVisible = !overlayVisible;
            toggleOverlayBtn.textContent = overlayVisible ? 'üëÅÔ∏è Overlay ausblenden' : 'üëÅÔ∏è Overlay einblenden';
            drawImageWithOverlay();
        });

        // Bild herunterladen
        downloadBtn.addEventListener('click', () => {
            const link = document.createElement('a');
            link.download = '√ºbersetzung_' + new Date().getTime() + '.png';
            link.href = overlayCanvas.toDataURL('image/png');
            link.click();
        });

        // √úbersetzen
        async function translateText() {
            if (currentMode === 'text') {
                await translateTextMode();
            } else {
                await translateImageMode();
            }
        }

        async function translateTextMode() {
            const text = russianInput.value.trim();
            
            if (!text) {
                showError('Bitte geben Sie einen Text zum √úbersetzen ein.');
                return;
            }

            translateBtn.disabled = true;
            loading.classList.add('active');
            loadingText.textContent = '√úbersetzung l√§uft...';
            errorMessage.classList.remove('active');
            germanOutput.value = '';
            copyBtn.style.display = 'none';
            successMessage.classList.remove('active');

            try {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 2500,
                        messages: [{
                            role: 'user',
                            content: `Du bist ein professioneller √úbersetzer f√ºr das Angelspiel "Russian Fishing 4". √úbersetze den russischen Text ins Deutsche.

KRITISCH - ALLES √úBERSETZEN:
- √úbersetze ALLE Produktbeschreibungen ins Deutsche
- Behalte NUR die Markennamen (Old Pal, Helen Van Zandt, Doctor Alban, Sitalia)
- √úbersetze die Produktbezeichnung nach dem Markennamen

BEISPIELE:
"Old Pal –Ø–≥–æ–¥–Ω—ã–π –º–∏–∫—Å" ‚Üí "Old Pal Brombeere Rot" oder "Old Pal Brombeer-Mix"
"Helen Van Zandt –Ø–≥–æ–¥–Ω—ã–π –¥–∂–µ–º" ‚Üí "Helen Van Zandt Brombeere" oder "Helen Van Zandt Brombeermarmelade"
"Doctor Alban –¢—É—Ç—Ç–∏ —Ñ—Ä—É—Ç—Ç–∏ 10–≥—Ä" ‚Üí "Doctor Alban Tutti Frutti 10g"
"Sitalia –¢—É—Ç—Ç–∏-–§—Ä—É—Ç—Ç–∏ 6–º–º" ‚Üí "Sitalia Tutti-Frutti 6mm"

KRITISCH - UI & INTERFACE BEGRIFFE:
–º–æ–Ω—Ç–∞–∂ ‚Üí Montage
–∫–æ–º–±–∏–Ω–∞—Ü–∏—è –∫√∂d–µ—Ä ‚Üí K√∂der-Kombination
–≤—Å–ø–ª—ã–≤–∞—é—â–∏–π ‚Üí Pop-up
–ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí Parameter
—Å–≤–æ–π—Å—Ç–≤–∞ ‚Üí Eigenschaften
–∫–∞—á–µ—Å—Ç–≤–æ ‚Üí Qualit√§t
–º–∞—Å—Å–∞ ‚Üí Gewicht
—Å—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏ ‚Üí Haltbarkeit
—Å–æ—Å—Ç–∞–≤ ‚Üí Zusammensetzung
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ ‚Üí Zus√§tzlich
–æ—Å–Ω–æ–≤–∞ ‚Üí Basis
–¥–æ–±–∞–≤–∫–∞ –≤ –ø—Ä–∏–∫–æ—Ä–º–∫—É ‚Üí Futterzusatz
–∞—Ä–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä ‚Üí Aroma
—Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Üí Zustand
–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí Kategorien
–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ‚Üí Kann verwendet werden
–ª—É—á—à–∞—è —Ä–∞–±–æ—Ç–∞ ‚Üí Beste Wirkung
–≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è ‚Üí Wirkungsdauer
—Ç–∏–ø ‚Üí Typ
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ‚Üí Anzahl/Menge
–∫–æ—Ä–º—É—à–∫–∞ ‚Üí Futterkorb
–∫—Ä—é—á–æ–∫ ‚Üí Haken
–Ω–∞–∂–∏–≤–∫–∞ ‚Üí K√∂der
–∑—ë—Ä–Ω–∞ ‚Üí K√∂rner
–ø–æ—Ä—Ü–∏—è ‚Üí Portion
—à—Ç—É–∫–∞/—à—Ç ‚Üí Stk
–≥—Ä–∞–º–º/–≥—Ä/–≥ ‚Üí g
—á–∞—Å—Ç–∏—Ü—ã ‚Üí Partikel
—á–∞—Å/—á ‚Üí Std
—Ä—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Üí Handwerk

MASSEINHEITEN & ZAHLEN:
- Behalte Zahlen exakt bei: 1,5 –≥ ‚Üí 1,5 g
- 9/10 bleibt 9/10
- –≥ ‚Üí g, –∫–≥ ‚Üí kg, —à—Ç ‚Üí Stk, —á ‚Üí Std

SPEZIFISCHE BEEREN & FR√úCHTE:
—è–≥–æ–¥–∞/—è–≥–æ–¥–Ω—ã–π ‚Üí Brombeere/Brombeer-
—è–≥–æ–¥–Ω—ã–π –º–∏–∫—Å ‚Üí Brombeere Rot / Brombeer-Mix
—è–≥–æ–¥–Ω—ã–π –¥–∂–µ–º ‚Üí Brombeere / Brombeermarmelade
—á–µ—Ä–Ω–∏–∫–∞ ‚Üí Heidelbeere
–º–∞–ª–∏–Ω–∞ ‚Üí Himbeere
–∑–µ–º–ª—è–Ω–∏–∫–∞ ‚Üí Erdbeere
–∫–ª—É–±–Ω–∏–∫–∞ ‚Üí Erdbeere

MILCHPRODUKTE & SAHNE:
—Å–ª–∏–≤–∫–∏ ‚Üí Sahne
—Å–ª–∞–¥–∫–∏–µ —Å–ª–∏–≤–∫–∏ ‚Üí S√º√üe Sahne
–º–æ–ª–æ–∫–æ ‚Üí Milch
—Å–º–µ—Ç–∞–Ω–∞ ‚Üí Sauerrahm

FARBEN & VARIANTEN:
–±–µ–ª—ã–π/–±–µ–ª–æ–µ ‚Üí Wei√ü
–∫—Ä–∞—Å–Ω—ã–π ‚Üí Rot
–º–µ–¥–Ω–æ–µ/–º–µ–¥–Ω—ã–π ‚Üí Kupfer
–∂—ë–ª—Ç—ã–π ‚Üí Gelb
–∑–µ–ª—ë–Ω—ã–π ‚Üí Gr√ºn

K√ñDER-TYPEN:
–∫—É–∫—É—Ä—É–∑–∞ ‚Üí Mais
–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–∞—è –∫—É–∫—É—Ä—É–∑–∞ ‚Üí Kunstmais
—á–µ—Ä–≤—å ‚Üí Wurm
–æ–ø–∞—Ä—ã—à ‚Üí Made
–º–æ—Ç—ã–ª—å ‚Üí M√ºckenlarve
–≥–æ—Ä–æ—Ö ‚Üí Erbse
–ø–µ—Ä–ª–æ–≤–∫–∞ ‚Üí Perlgraupen
—Ö–ª–µ–± ‚Üí Brot
—Ç–µ—Å—Ç–æ ‚Üí Teig
–±–æ–π–ª—ã ‚Üí Boilies
–ø–µ–ª–ª–µ—Ç—Å ‚Üí Pellets
–∂–∏–≤–µ—Ü ‚Üí K√∂derfisch
–¥–∏–ø ‚Üí Dip

FUTTERMITTEL:
–ø—Ä–∏–∫–æ—Ä–º–∫–∞ ‚Üí Futter
—Å–º–µ—Å—å ‚Üí Mischung
–≥—Ä–∞–Ω—É–ª—ã ‚Üí Pellets
–¥–æ–±–∞–≤–∫–∞ ‚Üí Zusatz
–∂–º—ã—Ö ‚Üí Presskuchen
–ø–∞–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Å—É—Ö–∞—Ä–∏ ‚Üí Paniermehl
–º–∞–Ω–∫–∞ ‚Üí Grie√ü
–æ–≤—Å—è–Ω—ã–µ —Ö–ª–æ–ø—å—è ‚Üí Haferflocken
—Å–µ–º–µ—á–∫–∏ ‚Üí Sonnenblumenkerne
—Ä—ã–±–Ω–∞—è –º—É–∫–∞ ‚Üí Fischmehl
–∫–æ–Ω–æ–ø–ª—è ‚Üí Hanf
–ø—à–µ–Ω–æ ‚Üí Hirse

AROMEN:
—Ç—É—Ç—Ç–∏ —Ñ—Ä—É—Ç—Ç–∏ ‚Üí Tutti Frutti
–∫–∞–∫–∞–æ ‚Üí Kakao
–≤–∞–Ω–∏–ª—å ‚Üí Vanille
–∞–Ω–∏—Å ‚Üí Anis
—á–µ—Å–Ω–æ–∫ ‚Üí Knoblauch
–∫–∞—Ä–∞–º–µ–ª—å ‚Üí Karamell
–º—ë–¥ ‚Üí Honig

WICHTIG - √úBERSETZUNGSREGELN:
1. Markenname behalten, Produktbeschreibung √ºbersetzen
2. UI-Labels vollst√§ndig √ºbersetzen
3. Ma√üeinheiten auf Deutsch (g, Stk, Std)
4. Kurz und nat√ºrlich wie in deutschen Spielen
5. "Tutti Frutti" bleibt (internationaler Begriff)

BEISPIELE:
"Old Pal –Ø–≥–æ–¥–Ω—ã–π –º–∏–∫—Å –¢–∏–ø: –ö–æ—Ä–º—É—à–∫–∞ –í–µ—Å: 1,5 –≥"
‚Üí
"Old Pal Brombeere Rot | Typ: Futterkorb | Gewicht: 1,5 g"

"–ö–∞—Ç–µ–≥–æ—Ä–∏–∏: –†—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞"
‚Üí
"Kategorien: Handwerk"

Russischer Text:
${text}`
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP-Fehler! Status: ${response.status}`);
                }

                const data = await response.json();
                
                if (data.content && data.content.length > 0) {
                    const translation = data.content[0].text.trim();
                    germanOutput.value = translation;
                    copyBtn.style.display = 'block';
                } else {
                    throw new Error('Keine √úbersetzung erhalten.');
                }

            } catch (error) {
                console.error('Fehler:', error);
                showError('√úbersetzung fehlgeschlagen. Bitte versuchen Sie es erneut.');
            } finally {
                translateBtn.disabled = false;
                loading.classList.remove('active');
            }
        }

        async function translateImageMode() {
            if (!currentImageData) {
                showError('Bitte laden Sie zuerst ein Bild hoch.');
                return;
            }

            translateBtn.disabled = true;
            loading.classList.add('active');
            loadingText.textContent = 'Bild wird analysiert und √ºbersetzt...';
            errorMessage.classList.remove('active');
            germanOutputImage.value = '';
            copyBtnImage.style.display = 'none';
            successMessageImage.classList.remove('active');

            try {
                // Base64-Daten extrahieren
                const base64Data = currentImageData.split(',')[1];
                const mimeType = currentImageData.split(';')[0].split(':')[1];

                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 3000,
                        messages: [{
                            role: 'user',
                            content: [
                                {
                                    type: 'image',
                                    source: {
                                        type: 'base64',
                                        media_type: mimeType,
                                        data: base64Data
                                    }
                                },
                                {
                                    type: 'text',
                                    text: `Lies den russischen Text in diesem Screenshot und √ºbersetze ihn professionell ins Deutsche.

KONTEXT: Russian Fishing 4 - Angelsimulation

ABSOLUT KRITISCH - PRODUKTNAMEN √úBERSETZEN:
‚úì Markenname BEHALTEN (Old Pal, Helen Van Zandt, Doctor Alban, Sitalia)
‚úì Produktbeschreibung √úBERSETZEN

BEISPIELE:
"Old Pal –Ø–≥–æ–¥–Ω—ã–π –º–∏–∫—Å" ‚Üí "Old Pal Brombeere Rot"
"Old Pal –°–ª–∏–≤–∫–∏" ‚Üí "Old Pal Sahne Wei√ü"
"Helen Van Zandt –Ø–≥–æ–¥–Ω—ã–π –¥–∂–µ–º" ‚Üí "Helen Van Zandt Brombeere"
"Nick_Monaro –°–õ–ê–î–ö–ò–ï –°–õ–ò–í–ö–ò ‚Ä¢ –ú–µ–¥–Ω–æ–µ" ‚Üí "Nick_Monaro S√úSSE SAHNE ‚Ä¢ Kupfer"
"Doctor Alban –¢—É—Ç—Ç–∏ —Ñ—Ä—É—Ç—Ç–∏ 10–≥—Ä" ‚Üí "Doctor Alban Tutti Frutti 10g"
"Sitalia –¢—É—Ç—Ç–∏-–§—Ä—É—Ç—Ç–∏ 6–º–º" ‚Üí "Sitalia Tutti-Frutti 6mm"

KRITISCH - UI & MEN√ú-BEGRIFFE:
–º–æ–Ω—Ç–∞–∂ ‚Üí Montage
–∫–æ–º–±–∏–Ω–∞—Ü–∏—è –∫√∂d–µ—Ä ‚Üí K√∂der-Kombination
–≤—Å–ø–ª—ã–≤–∞—é—â–∏–π ‚Üí Pop-up
—Å–≤–æ–π—Å—Ç–≤–∞ ‚Üí Eigenschaften
–ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí Parameter
–∫–∞—á–µ—Å—Ç–≤–æ ‚Üí Qualit√§t
–º–∞—Å—Å–∞ ‚Üí Gewicht
—Å—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏ ‚Üí Haltbarkeit
—Ç–∏–ø ‚Üí Typ
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ‚Üí Anzahl
—Å–æ—Å—Ç–∞–≤ ‚Üí Zusammensetzung
zus√§tzlich ‚Üí Zus√§tzlich
–æ—Å–Ω–æ–≤–∞ ‚Üí Basis
–¥–æ–±–∞–≤–∫–∞ –≤ –ø—Ä–∏–∫–æ—Ä–º–∫—É ‚Üí Futterzusatz
–∞—Ä–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä ‚Üí Aroma
—Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Üí Zustand
–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí Kategorien
–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ‚Üí Kann verwendet werden
–ª—É—á—à–∞—è —Ä–∞–±–æ—Ç–∞ ‚Üí Beste Wirkung
–∫–æ—Ä–º—É—à–∫–∞ ‚Üí Futterkorb
–∫—Ä—é—á–æ–∫ ‚Üí Haken
–Ω–∞–∂–∏–≤–∫–∞ ‚Üí K√∂der
–∑—ë—Ä–Ω–∞ ‚Üí K√∂rner
–ø–æ—Ä—Ü–∏—è ‚Üí Portion
—à—Ç—É–∫–∞/—à—Ç ‚Üí Stk
–≥—Ä–∞–º–º/–≥—Ä/–≥ ‚Üí g
—á–∞—Å—Ç–∏—Ü—ã ‚Üí Partikel
—á–∞—Å/—á ‚Üí Std
—Ä—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Üí Handwerk

MASSEINHEITEN:
- Zahlen EXAKT: 1,5 –≥ ‚Üí 1,5 g
- 9/10 ‚Üí 9/10
- –≥ ‚Üí g, –∫–≥ ‚Üí kg, –º–º ‚Üí mm, —à—Ç ‚Üí Stk, —á ‚Üí Std

SPEZIFISCHE BEEREN & FR√úCHTE:
—è–≥–æ–¥–∞/—è–≥–æ–¥–Ω—ã–π ‚Üí Brombeere/Brombeer-
—è–≥–æ–¥–Ω—ã–π –º–∏–∫—Å ‚Üí Brombeere Rot (oder Brombeer-Mix)
—è–≥–æ–¥–Ω—ã–π –¥–∂–µ–º ‚Üí Brombeere (oder Brombeermarmelade)
—á–µ—Ä–Ω–∏–∫–∞ ‚Üí Heidelbeere
–º–∞–ª–∏–Ω–∞ ‚Üí Himbeere
–∑–µ–º–ª—è–Ω–∏–∫–∞/–∫–ª—É–±–Ω–∏–∫–∞ ‚Üí Erdbeere

MILCHPRODUKTE & SAHNE:
—Å–ª–∏–≤–∫–∏ ‚Üí Sahne
—Å–ª–∞–¥–∫–∏–µ —Å–ª–∏–≤–∫–∏ ‚Üí S√º√üe Sahne / S√ºsse Sahne
–º–æ–ª–æ–∫–æ ‚Üí Milch
—Å–º–µ—Ç–∞–Ω–∞ ‚Üí Sauerrahm

FARBEN & VARIANTEN:
–±–µ–ª—ã–π/–±–µ–ª–æ–µ ‚Üí Wei√ü
–∫—Ä–∞—Å–Ω—ã–π ‚Üí Rot
–º–µ–¥–Ω–æ–µ/–º–µ–¥–Ω—ã–π ‚Üí Kupfer
–∂—ë–ª—Ç—ã–π ‚Üí Gelb
–∑–µ–ª—ë–Ω—ã–π ‚Üí Gr√ºn

K√ñDER-TYPEN:
–∫—É–∫—É—Ä—É–∑–∞ ‚Üí Mais
–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–∞—è –∫—É–∫—É—Ä—É–∑–∞ ‚Üí Kunstmais
—á–µ—Ä–≤—å ‚Üí Wurm
–æ–ø–∞—Ä—ã—à ‚Üí Made
–º–æ—Ç—ã–ª—å ‚Üí M√ºckenlarve
–≥–æ—Ä–æ—Ö ‚Üí Erbse
–ø–µ—Ä–ª–æ–≤–∫–∞ ‚Üí Perlgraupen
—Ç–µ—Å—Ç–æ ‚Üí Teig
–±–æ–π–ª—ã ‚Üí Boilies
–ø–µ–ª–ª–µ—Ç—Å ‚Üí Pellets
–≥—Ä–∞–Ω—É–ª—ã ‚Üí Pellets
–∂–∏–≤–µ—Ü ‚Üí K√∂derfisch
–¥–∏–ø ‚Üí Dip

FUTTERMITTEL-ZUTATEN:
–ø—Ä–∏–∫–æ—Ä–º–∫–∞ ‚Üí Futter
—Å–º–µ—Å—å ‚Üí Mischung
–¥–æ–±–∞–≤–∫–∞ ‚Üí Zusatz
–∂–º—ã—Ö ‚Üí Presskuchen
–ø–∞–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Å—É—Ö–∞—Ä–∏ ‚Üí Paniermehl
–º–∞–Ω–∫–∞ ‚Üí Grie√ü
–æ–≤—Å—è–Ω—ã–µ —Ö–ª–æ–ø—å—è ‚Üí Haferflocken
—Å–µ–º–µ—á–∫–∏ ‚Üí Sonnenblumenkerne
—Ä—ã–±–Ω–∞—è –º—É–∫–∞ ‚Üí Fischmehl
–∫–æ–Ω–æ–ø–ª—è ‚Üí Hanf
–ø—à–µ–Ω–æ ‚Üí Hirse
—Ä–∏—Å ‚Üí Reis

AROMEN:
—Ç—É—Ç—Ç–∏ —Ñ—Ä—É—Ç—Ç–∏ ‚Üí Tutti Frutti
—Ñ—Ä—É–∫—Ç–æ–≤—ã–π ‚Üí Frucht/Frucht-
–∫–∞–∫–∞–æ ‚Üí Kakao
–≤–∞–Ω–∏–ª—å ‚Üí Vanille
–∞–Ω–∏—Å ‚Üí Anis
—á–µ—Å–Ω–æ–∫ ‚Üí Knoblauch
–∫–∞—Ä–∞–º–µ–ª—å ‚Üí Karamell
–º—ë–¥ ‚Üí Honig

√úBERSETZUNGSBEISPIEL:

ORIGINAL IM BILD:
"Old Pal –Ø–≥–æ–¥–Ω—ã–π –º–∏–∫—Å"
"Old Pal –°–ª–∏–≤–∫–∏"
"Nick_Monaro –°–õ–ê–î–ö–ò–ï –°–õ–ò–í–ö–ò ‚Ä¢ –ú–µ–¥–Ω–æ–µ"
"–¢–∏–ø: –î–∏–ø –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 1 –ø–æ—Ä—Ü–∏—è"

RICHTIG:
"Old Pal Brombeere Rot"
"Old Pal Sahne Wei√ü"
"Nick_Monaro S√úSSE SAHNE ‚Ä¢ Kupfer"
"Typ: Dip | Anzahl: 1 Portion"

FALSCH w√§re:
"Old Pal –Ø–≥–æ–¥–Ω—ã–π –º–∏–∫—Å" ‚ùå (nicht √ºbersetzen ist FALSCH!)
"Old Pal Slivki" ‚ùå (transliterieren statt √ºbersetzen!)

REGEL: Marke behalten, Produktname √ºbersetzen, alle UI-Labels √ºbersetzen!

√úbersetze jetzt alles ins Deutsche - nur Markennamen bleiben original!`
                                }
                            ]
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP-Fehler! Status: ${response.status}`);
                }

                const data = await response.json();
                
                if (data.content && data.content.length > 0) {
                    const translation = data.content[0].text.trim();
                    translatedText = translation;
                    germanOutputImage.value = translation;
                    copyBtnImage.style.display = 'block';
                    
                    // Wenn Overlay-Modus, Canvas zeichnen
                    if (imageDisplayMode === 'overlay') {
                        drawImageWithOverlay();
                        overlayControls.style.display = 'flex';
                    }
                } else {
                    throw new Error('Keine √úbersetzung erhalten.');
                }

            } catch (error) {
                console.error('Fehler:', error);
                showError('Bild√ºbersetzung fehlgeschlagen. Bitte versuchen Sie es erneut.');
            } finally {
                translateBtn.disabled = false;
                loading.classList.remove('active');
            }
        }

        // Fehler anzeigen
        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.classList.add('active');
            setTimeout(() => {
                errorMessage.classList.remove('active');
            }, 5000);
        }

        // Alles l√∂schen
        function clearAll() {
            russianInput.value = '';
            germanOutput.value = '';
            germanOutputImage.value = '';
            charCount.textContent = '0 Zeichen';
            copyBtn.style.display = 'none';
            copyBtnImage.style.display = 'none';
            errorMessage.classList.remove('active');
            successMessage.classList.remove('active');
            successMessageImage.classList.remove('active');
            currentImageData = null;
            imagePreview.classList.remove('active');
            fileInput.value = '';
        }

        // In Zwischenablage kopieren
        async function copyToClipboard(text, messageElement) {
            try {
                await navigator.clipboard.writeText(text);
                messageElement.classList.add('active');
                setTimeout(() => {
                    messageElement.classList.remove('active');
                }, 3000);
            } catch (error) {
                console.error('Kopieren fehlgeschlagen:', error);
                showError('Kopieren fehlgeschlagen.');
            }
        }

        // Event Listeners
        translateBtn.addEventListener('click', translateText);
        clearBtn.addEventListener('click', clearAll);
        copyBtn.addEventListener('click', () => copyToClipboard(germanOutput.value, successMessage));
        copyBtnImage.addEventListener('click', () => copyToClipboard(germanOutputImage.value, successMessageImage));

        // Enter-Taste zum √úbersetzen (Strg+Enter)
        russianInput.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'Enter') {
                translateText();
            }
        });

        // Strg+V zum Einf√ºgen von Bildern aus der Zwischenablage
        document.addEventListener('paste', async (e) => {
            const items = e.clipboardData.items;
            
            for (let i = 0; i < items.length; i++) {
                if (items[i].type.indexOf('image') !== -1) {
                    e.preventDefault();
                    
                    // Automatisch in Bild-Modus wechseln
                    if (currentMode !== 'image') {
                        imageModeBtn.click();
                    }
                    
                    const blob = items[i].getAsFile();
                    const reader = new FileReader();
                    
                    reader.onload = (event) => {
                        currentImageData = event.target.result;
                        previewImg.src = currentImageData;
                        imagePreview.classList.add('active');
                        germanOutputImage.value = '';
                        copyBtnImage.style.display = 'none';
                        translatedText = '';
                        overlayVisible = true;
                        updateImageDisplay();
                        
                        // Kleine Erfolgsmeldung
                        showSuccess('Bild eingef√ºgt! Klicken Sie auf "√úbersetzen".');
                    };
                    
                    reader.readAsDataURL(blob);
                    break;
                }
            }
        });

        // Erfolgs-Benachrichtigung anzeigen
        function showSuccess(message) {
            const tempSuccess = document.createElement('div');
            tempSuccess.className = 'success-message active';
            tempSuccess.textContent = message;
            tempSuccess.style.position = 'fixed';
            tempSuccess.style.top = '20px';
            tempSuccess.style.right = '20px';
            tempSuccess.style.zIndex = '1000';
            tempSuccess.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
            document.body.appendChild(tempSuccess);
            
            setTimeout(() => {
                tempSuccess.remove();
            }, 3000);
        }
    </script>
</body>
</html>
